(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(6616)}])},6616:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return l}});var i=t(5893),s=t(7294),u=t(6844);let a=(0,u.eI)("https://emujnapojbfufonhkfig.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVtdWpuYXBvamJmdWZvbmhrZmlnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIwNjY0MTcsImV4cCI6MjA2NzY0MjQxN30.7MxMKRegv4AR8-0GkQQJ6PsOf_waA6uXOxwrpHPRWUg");function l(){let[e,n]=(0,s.useState)(null),[t,u]=(0,s.useState)(null),[l,r]=(0,s.useState)(!1),[c,d]=(0,s.useState)([]);(0,s.useEffect)(()=>{let e=async()=>{let{data:e}=await a.auth.getUser();n(e.user),e.user&&o(e.user.id)};e()},[]);let o=async e=>{let{data:n,error:t}=await a.storage.from("documents").list(e+"/");!t&&n&&d(n.map(e=>e.name))},p=async()=>{if(!t||!e)return;r(!0);let{error:n}=await a.storage.from("documents").upload("".concat(e.id,"/").concat(t.name),t,{cacheControl:"3600",upsert:!0});n||(o(e.id),u(null)),r(!1)};return(0,i.jsxs)("div",{style:{padding:20,maxWidth:600,margin:"auto"},children:[(0,i.jsx)("h1",{children:"Upload Required Documents"}),(0,i.jsx)("input",{type:"file",onChange:e=>{var n;return u((null===(n=e.target.files)||void 0===n?void 0:n[0])||null)}}),(0,i.jsx)("button",{onClick:p,disabled:l||!t,children:l?"Uploading...":"Upload"}),(0,i.jsxs)("div",{style:{marginTop:20},children:[(0,i.jsx)("h2",{children:"Uploaded Files:"}),(0,i.jsx)("ul",{children:c.map((e,n)=>(0,i.jsx)("li",{children:e},n))})]})]})}}},function(e){e.O(0,[774,844,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);